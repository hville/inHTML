<!DOCTYPE html>
<html lang="en">
<head>
<script src='https://unpkg.com/inhtml'>//./inhtml.js</script>
<meta charset="utf-8"/>
<title>inHTML</title>
</head>
<body>
<div>
	<table>
		<tbody>
			<template>
				<tr id=row>
					<td id=id></td>
					<td id=select>
						<a id=label></a>
					</td>
					<td id=del>
						<a class=remove>
							<span aria-hidden=true></span>
						</a>
					</td>
					<td></td>
				</tr>
			</template>
		</tbody>
		<script>
			inHTML( function(tbody, {row}) {
				function updateRow(v) {
					this.refs.label.textContent = v.ms
				}
				function makeRow(data) {
					const el = inHTML.clone(row),
								{id, select, label, del} = el.refs
					id.textContent = data.id
					label.textContent = data.ms
					el.update = updateRow
					return el
				}
				const rows = inHTML.list(tbody, v=>v.id, makeRow)
				inHTML.update = rows.update.bind(rows)
			})
		</script>
	</table>
</div>
</body>
<script>
	inHTML.data = [ {id:'1', ms:'one'} ]
	inHTML.update(inHTML.data)
	inHTML.data.push( {id:'2', ms:'two'} )
	inHTML.update(inHTML.data)
</script>
</html>
